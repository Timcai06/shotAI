# ShotAI 产品需求文档 - 9维度分析体系

**版本**: v2.0 (9维度完整版)  
**日期**: 2026-02-03  
**状态**: 独立开发者MVP确认版

---

## 🎯 产品目标

### 主要目标
1. 让用户通过上传视频获得**9维度科学诚实**的投篮动作分析
2. 生成**基于科学证据**的改进建议和训练计划
3. 与职业球员进行**风格对比**（而非绝对标准对比）
4. 建立**验证闭环**，关联机械改进与命中率变化

### 核心原则
- ✅ **科学诚实**: 明确说明AI能做什么、不能做什么
- ✅ **不确定性透明**: 所有测量标注误差范围（±15°）
- ✅ **一致性优先**: 强调动作重复性而非绝对角度（r=-0.96）
- ✅ **9维度分析**: 全面系统的动作评估体系
- ✅ **长期追踪**: 关联机械改进与命中率变化

---

## 📊 9维度分析体系

### 维度1️⃣: 动作一致性 (Action Consistency)
**科学地位**: 命中率最强预测因子（r=-0.96）

| 子指标 | 测量方法 | 精英标准 | 误差范围 |
|--------|----------|----------|----------|
| **膝关节角度波动** | 起跳到出手角度变化范围 | <10° | ±15° |
| **肘关节角度波动** | 屈臂到出手角度变化 | <8° | ±15° |
| **出手时机一致性** | 起跳到出手时间标准差 | <0.1s | ±0.05s |
| **整体一致性评分** | 多关节加权算法 | >85分 | - |

**报告展示**:
```
📊 动作一致性分析（最重要维度）

膝关节角度波动：18° ⚠️
━━━━━━━━━━━━━━━━━━━━
你的波动    ████████████████░░░░  18°
精英标准    ████████░░░░░░░░░░░░  <10°
差距：+8°（需改善）

科学事实：
研究表明，动作一致性（而非绝对角度）是命中率的最强预测因子（r=-0.96）。
精英球员的特征不是"标准姿势"，而是极高的动作重复性。

参考：Slegers et al. (2021), *Journal of Sports Sciences*
```

---

### 维度2️⃣: 关节角度 (Joint Angles)
**测量精度**: ±15°（侧面视角）

| 关节 | 测量值 | 误差范围 | 职业球员范围 | 评价 |
|------|--------|----------|--------------|------|
| **左膝关节** | 165° | ±15° | 106°-119° | 个体差异极大 |
| **左肘关节** | 135° | ±15° | 90°-145° | ✅ 在范围内 |
| **左腕关节** | 190° | ±15° | 165°-200° | ✅ 在范围内 |
| **左髋关节** | 142° | ±15° | 100°-160° | ✅ 在范围内 |

**关键洞察**:
```
⚠️ 科学事实：不存在"理想角度"适合所有人

职业球员关节角度个体差异：
• 膝关节：106°-175°（相差69°）
• 肘关节：90°-145°（相差55°）
• 腕关节：165°-200°（相差35°）

库里和科比的关节角度完全不同，但都是顶级射手。
关键在于：一致性 > 绝对角度
```

---

### 维度3️⃣: 左右对称性 (Symmetry)

| 指标 | 测量值 | 误差 | 理想值 | 状态 |
|------|--------|------|--------|------|
| **肘关节角度差** | 12° | ±5° | <5° | ⚠️ 不对称 |
| **肩关节角度差** | 8° | ±5° | <5° | ⚠️ 轻微不对称 |
| **膝关节角度差** | 5° | ±5° | <5° | ✅ 良好 |
| **整体对称评分** | - | - | >80分 | 综合评估 |

**报告展示**:
```
⚖️ 左右对称性分析

肘关节角度差：12° ⚠️
左肘：135° vs 右肘：147°
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
理想对称    ████████░░░░░░░░░░░░  <5°
你的差异    ████████████████████░  12°

📊 影响评估：
中度不对称可能影响投篮稳定性。
建议：加强非惯用手的力量训练。
```

---

### 维度4️⃣: 投篮风格 (Shooting Style)

**风格识别**: One-motion vs Two-motion vs Hybrid

```
🎯 投篮风格识别

检测结果：Two-motion（两段式投篮）
置信度：85%

风格特征：
✓ 明显的准备-停顿-出手节奏
✓ 起跳到出手时间较长（0.22s）
✓ 动作稳定性高，适合中远距离

参考球员：
• 科比·布莱恩特
• 卡哇伊·伦纳德
• 德玛尔·德罗赞

风格优势：
✓ 稳定性高，命中率高
✓ 适合对抗中的投篮
✓ 易于保持一致性

优化建议：
• 可适度加快衔接流畅度
• 保持现有的稳定性优势
• 不必追求One-motion的快速
```

---

### 维度5️⃣: 时序节奏 (Timing & Rhythm)

| 阶段 | 测量值 | 参考范围 | 评价 |
|------|--------|----------|------|
| **准备阶段** | 450ms | 400-600ms | ✅ 正常 |
| **蓄力阶段** | 320ms | 250-400ms | ✅ 正常 |
| **出手阶段** | 180ms | 150-200ms | ✅ 正常 |
| **随挥阶段** | 520ms | 400-700ms | ⚠️ 略长 |
| **总时长** | 1470ms | 1200-1800ms | ✅ 正常 |

**报告展示**:
```
⏱️ 投篮时序分析

出手时机：起跳后 0.18秒
参考范围：0.15-0.28秒（Two-motion）
评价：✅ 时机良好

各阶段时间分配：
准备：450ms ████████████████░░░░ 30%
蓄力：320ms ███████████░░░░░░░░░ 22%
出手：180ms ██████░░░░░░░░░░░░░░ 12%
随挥：520ms ██████████████████░░ 35%

建议：
• 随挥阶段略长（520ms），可能影响快速衔接
• 建议控制在500ms以内，提高整体流畅度
```

---

### 维度6️⃣: 稳定性 (Stability)

| 指标 | 测量值 | 评价 |
|------|--------|------|
| **质心稳定性** | 72/100 | 良好 |
| **下肢稳定性** | 65/100 | 需改善 |
| **上肢稳定性** | 78/100 | 良好 |
| **整体稳定性** | 71/100 | 进阶水平 |

**报告展示**:
```
🧘 稳定性分析

核心发现：
• 上肢稳定性良好（78分），说明手臂控制较好
• 下肢稳定性待改善（65分），与膝关节波动大相关
• 质心控制良好，整体平衡性不错

关联分析：
下肢稳定性 ↓ → 膝关节波动 18° → 一致性评分 62分

建议优先改善：下肢稳定性训练
```

---

### 维度7️⃣: 进步追踪 (Progress Tracking)

**历史对比分析**（需多次分析）

```
📈 进步追踪分析

分析历史：3次分析（30天内）

动作一致性趋势：
12月22日：22° → 1月3日：20° → 1月15日：18°
改善幅度：4°（18%改善）📈

命中率关联：
12月22日：58% → 1月15日：64%
改善幅度：+6% 📈

关联分析：
动作一致性每改善1°，命中率提升约1.5%
与科学研究一致（r=-0.96相关性）

目标预测：
当前膝关节波动：18° → 目标<10°
预计命中率可达：68-70%

⏱️ 预计达成时间：
按当前改善速度（4°/月），还需2-3个月
```

---

### 维度8️⃣: 整体动作协调性 (Movement Coordination) ⭐

⚠️ **科学诚实声明**:
- ✅ 可以测量：关节同步性、流畅度、时序协调（外部协调性）
- ❌ 不能测量：神经肌肉协调、本体感觉精度（内部协调性）

| 子指标 | 计算方法 | 测量精度 | 科学意义 |
|--------|----------|----------|----------|
| **关节同步系数** | 膝-髋-肘角度变化相关系数 | ±0.15 | 动作连贯性 |
| **动作流畅度** | 加速度变化率的标准差 | 中等 | 技术成熟度 |
| **时序过渡平滑度** | 相邻阶段时间比的标准差 | ±10% | 节奏控制 |
| **全身协调评分** | 多关节加权算法 | 中等 | 整体技术水平 |

**报告展示**:
```
🎯 整体动作协调性分析

⚠️ 测量局限说明：
本维度基于视频分析关节角度变化的相关性，评估动作的"外部协调性"。
无法测量神经肌肉层面的"内部协调性"（需要EMG设备）。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 关节同步性分析

膝-髋协调性：r = 0.72 ⚠️
━━━━━━━━━━━━━━━━━━━━━━━━━━
你的协调性 ████████████████░░░░ 0.72
理想协调   ████████████████████ 0.90+
差距：-0.18

髋-肘协调性：r = 0.68 ⚠️
说明：下肢到上肢的力量传递连贯性一般。

肘-腕协调性：r = 0.81 ✅
说明：上肢内部协调性良好，出手动作连贯。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🌊 动作流畅度分析

流畅度评分：68/100（进阶水平）
加速度变化率标准差：0.24
理想值：<0.15
评价：动作中存在较明显的"卡顿"或"加速-减速"波动

典型问题识别：
• 起跳阶段：加速度变化过大（0.35）⚠️
  可能原因：下蹲蓄力不充分，起跳发力突然
  
• 出手阶段：加速度变化适中（0.18）✓
  表现良好，发力相对平滑

改善建议：
1. 无球慢动作练习（0.5倍速）：感受动作连贯性
2. 连续投篮训练：消除动作间的停顿感
3. 目标：2周后流畅度提升到75+分

参考：Kennedy et al. (2023), r=-0.64
```

---

### 维度9️⃣: 动力链协调性 (Kinetic Chain Coordination) ⭐

⚠️ **重要科学诚实声明**:
```
🚨 科学事实声明

"动力链发力效率"无法从视频准确测量。

原因：
• 视频只能看到关节角度变化，无法测量力量
• 需要测力台才能测量地面反作用力
• 需要EMG才能测量肌肉激活时序
• 需要测力传感器才能测量力量传递

⚠️ 我们能做的是：
评估"动力链协调性"——基于关节角度变化时序，
判断下肢-核心-上肢的发力衔接是否流畅。
这不是"效率"测量，而是"协调性"评估。
```

| 子指标 | 计算方法 | 科学意义 |
|--------|----------|----------|
| **环节激活时序** | 膝→髋→核心→肩→肘→腕 激活顺序 | 发力链完整性 |
| **激活延迟时间** | 相邻环节的激活时间差 | 力量传递流畅度 |
| **协调性评分** | 理想时序vs实际时序的匹配度 | 间接指标 |
| **环节贡献度** | 各环节角度变化幅度的比例 | 发力分配合理性 |

**报告展示**:
```
⚡ 动力链协调性分析

⚠️ 重要说明：
本分析评估"动力链协调性"（Coordinated Movement Pattern），
基于关节角度变化的时序关系。
我们无法测量"力传导效率"（Force Transmission Efficiency），
因为那需要测力台（设备成本约50万元）。

本分析的价值：
✓ 识别发力顺序是否正确（膝→髋→核心→上肢）
✓ 发现动力链中断或延迟
✓ 评估各环节衔接流畅度
✗ 不能测量"力量大小"或"效率百分比"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🦵 环节激活时序分析

理想发力顺序：
膝伸展 → 髋伸展 → 核心旋转 → 肩上抬 → 肘伸展 → 腕屈曲

你的发力时序：

实际测量：
1. 膝伸展（0ms）✅ 第1激活
2. 髋伸展（45ms）✅ 第2激活
3. 核心旋转（120ms）⚠️ 延迟+35ms
4. 肩上抬（165ms）✅ 第4激活
5. 肘伸展（210ms）✅ 第5激活
6. 腕屈曲（245ms）✅ 第6激活

评分：环节顺序正确性 92/100 ✅

问题识别：
⚠️ 核心旋转激活延迟35ms（理想：85ms，实际：120ms）

可能影响：
• 下肢力量到上肢的传递延迟
• 出手时机可能略晚
• 远距离投篮可能力量不足

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 环节贡献度分析

各环节角度变化幅度占总幅度的比例：

下肢（膝+髋）：38% ⚠️（理想40-45%）
说明：下肢发力贡献略低，可能影响远距离投篮力量

核心：12% ✅（理想10-15%）
说明：核心旋转贡献正常

上肢（肩+肘+腕）：50% ⚠️（理想40-45%）
说明：上肢承担过多，可能过度疲劳

协调性评分：73/100

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 改善建议

问题：下肢-核心-上肢的力量分配不够均衡

【训练1】核心激活时机练习
目标：提高核心旋转的响应速度
方法：
• 无球练习：下蹲后刻意"提前"启动核心旋转
• 对着镜子练习：观察膝→髋→核心的连贯性
• 每周3次，每次15分钟

【训练2】下肢发力强化
目标：增加下肢贡献度至40%+
方法：
• 深蹲跳投篮：强调下肢发力
• 限制上肢练习：只使用70%上肢力量投篮
• 感受"腿先发力"的节奏

预期改善：
2周后重新分析，目标：
• 核心延迟减少至<85ms
• 下肢贡献度提升至40%+
• 协调性评分提升至80+

⚠️ 重要提醒：
这些建议基于关节角度变化时序，不是"发力效率"优化。
实际效果需要通过命中率变化来验证。
机械改进不一定立即转化为命中率提升（心理因素同样重要）。

参考：Cabarkapa et al. (2022) - 时序分析
参考：Winter (2009) - Kinematics vs Kinetics distinction
```

---

## 📱 用户流程设计

### 核心用户旅程

```
发现产品
    ↓
下载/打开 App
    ↓
新用户引导（含AI能力边界说明）
    ↓
上传投篮视频（含拍摄质量引导）
    ↓
等待 AI 分析（60秒内，9维度）
    ↓
查看分析报告（免费预览3个维度）
    ↓
付费解锁完整9维度报告
    ↓
查看完整报告 + 个性化训练计划
    ↓
开始针对性训练
    ↓
（循环）再次上传，追踪9维度进步
    ↓
分享进步到社区
```

### 核心页面

#### 1. 首页 - 快速开始
- 大号上传按钮（核心CTA）
- 示例视频（如何拍摄）
- AI能力边界提示
- 我的进步曲线（老用户）

#### 2. 拍摄引导页
- 3步拍摄引导动画
- 误差说明（侧面视角±15°）
- AI能力边界快速说明

#### 3. 分析等待页
- 3D骨骼检测动画
- 实时进度显示
- 检测质量预估
- 趣味篮球知识

#### 4. 报告页 - 免费预览
- 显示3个维度（一致性+2个其他）
- 综合评分和置信区间
- AI能力边界说明入口
- 付费解锁完整报告

#### 5. 报告页 - 完整版（9维度卡片）
- 9个维度，每个一个卡片
- 可展开查看详情
- 3D可视化
- 时序曲线图
- AI改进建议
- 训练计划
- 命中率记录

---

## 🎨 报告展示规范

### 评分展示标准

```
综合评分展示：

🎯 综合评分：72/100
置信区间：65-79（±15°误差范围）
等级：进阶水平 🟡
检测置信度：78%

维度得分雷达图：
一致性：62 ⚠️（最重要）
关节角度：75 ✅
对称性：68 ⚠️
投篮风格：80 ✅
时序节奏：72 ✅
稳定性：71 ✅
进步追踪：无历史
动作协调：68 ⚠️
动力链协调：73 ⚠️
```

### 误差标注规范

所有测量值必须标注：
- 误差范围（±15°）
- 检测置信度（高/中/低）
- 测量条件（侧面视角/光线等）

---

## ✅ 功能需求优先级

### P0 - 必须做（MVP核心）
1. 视频上传 + 拍摄引导（强制侧面视角）
2. MediaPipe姿态检测（33关键点）
3. **9维度分析算法**（核心差异化）
4. 角度误差标注（±15°）
5. 综合评分 + 置信区间
6. AI报告生成（千问API）
7. 免费预览（3个维度）
8. 微信收款码支付

### P1 - 应该做（Phase 2）
1. 3D骨骼模型可视化
2. 时序曲线图（Recharts）
3. 进步追踪历史对比
4. 命中率记录工具
5. 社区分享功能

### P2 - 可以做（Phase 3）
1. 社区浏览/评论
2. 训练计划详细页面
3. 职业球员风格库扩展

---

## 🔗 相关文档

- [01-PROJECT-VISION.md](./01-PROJECT-VISION.md) - 项目愿景和商业模式
- [02-SCIENTIFIC-BASIS.md](./02-SCIENTIFIC-BASIS.md) - 运动科学文献
- [04-TECHNICAL-ARCHITECTURE.md](./04-TECHNICAL-ARCHITECTURE.md) - 技术架构
- [05-TRAINING-SYSTEM.md](./05-TRAINING-SYSTEM.md) - 系统性训练指南
- [06-DEVELOPMENT-PLAN.md](./06-DEVELOPMENT-PLAN.md) - 开发路线图

---

*文档版本: v2.0 - 9维度完整版*  
*更新日期: 2026-02-03*
