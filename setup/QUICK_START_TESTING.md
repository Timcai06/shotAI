# 🚀 快速启动和测试指南

**目标**: 在本地验证所有前后端功能是否正常工作

---

## 1️⃣ 启动开发服务器

```bash
npm run dev
```

访问: http://localhost:3000

---

## 2️⃣ 测试流程

### 步骤1: 访问首页
- URL: http://localhost:3000
- 检查项:
  - [ ] 页面加载正常
  - [ ] 导航菜单可见
  - [ ] "开始分析"按钮可点击

### 步骤2: 查看拍摄指南
- 点击"拍摄指南"链接
- 检查项:
  - [ ] 3步拍摄指南显示
  - [ ] 拍摄角度对比说明
  - [ ] 误差范围说明

### 步骤3: 查看AI能力边界
- 点击"AI能力边界"链接
- 检查项:
  - [ ] 能做/不能做的说明
  - [ ] 科学依据引用
  - [ ] 置信度标注

### 步骤4: 上传视频
- 点击"开始分析"或访问 http://localhost:3000/upload
- 检查项:
  - [ ] 拖拽上传区域显示
  - [ ] 文件选择按钮可用
  - [ ] 拍摄角度选项显示
  - [ ] 光线条件选项显示

#### 测试上传
- 选择一个视频文件（MP4, MOV, WebM）
- 选择拍摄角度（推荐"侧面视角"）
- 选择光线条件（推荐"良好"）
- 点击"开始分析"

### 步骤5: 等待分析
- 应该跳转到 http://localhost:3000/analysis/[task_id]/waiting
- 检查项:
  - [ ] 加载动画显示
  - [ ] 进度条更新
  - [ ] 分析步骤显示
  - [ ] 提示信息显示

**注意**: 由于使用模拟数据，分析应该在几秒内完成

### 步骤6: 查看分析结果
- 应该自动跳转到 http://localhost:3000/analysis/[task_id]/result
- 检查项:
  - [ ] 综合评分显示
  - [ ] 检测置信度显示
  - [ ] 9维度卡片显示
  - [ ] 详细分析显示
  - [ ] AI报告显示
  - [ ] 训练计划显示

---

## 3️⃣ 详细检查清单

### 前端功能
- [ ] 首页加载
- [ ] 导航正常
- [ ] 拍摄指南页面
- [ ] AI能力边界页面
- [ ] 上传页面
- [ ] 文件拖拽上传
- [ ] 文件选择上传
- [ ] 拍摄角度选择
- [ ] 光线条件选择
- [ ] 上传进度显示
- [ ] 等待页面轮询
- [ ] 结果页面展示
- [ ] 9维度卡片显示
- [ ] 详细分析显示
- [ ] AI报告显示
- [ ] 训练计划显示

### 后端功能
- [ ] 上传API工作
- [ ] 任务创建成功
- [ ] 分析API执行
- [ ] 状态查询API工作
- [ ] 数据库保存结果
- [ ] 错误处理正常

### 分析引擎
- [ ] 9维度分析执行
- [ ] 综合得分计算
- [ ] 置信区间计算
- [ ] AI报告生成
- [ ] 训练计划生成

---

## 4️⃣ 常见问题排查

### 问题1: 页面加载失败
**症状**: 访问 http://localhost:3000 显示错误

**解决方案**:
```bash
# 清除缓存
rm -rf .next
npm run dev
```

### 问题2: 上传失败
**症状**: 点击"开始分析"后没有反应

**解决方案**:
1. 检查浏览器控制台错误信息
2. 检查 .env.local 配置
3. 确保Supabase连接正常

### 问题3: 分析结果不显示
**症状**: 等待页面一直在加载

**解决方案**:
1. 检查浏览器控制台是否有错误
2. 检查网络请求是否成功
3. 查看服务器日志

### 问题4: 编译错误
**症状**: `npm run build` 失败

**解决方案**:
```bash
# 检查类型错误
npx tsc --noEmit

# 清除缓存后重新构建
rm -rf .next node_modules
npm install
npm run build
```

---

## 5️⃣ 性能检查

### 首屏加载时间
- 目标: < 2秒
- 检查方法: 打开DevTools → Network → 查看加载时间

### 分析执行时间
- 目标: < 5秒（使用模拟数据）
- 检查方法: 查看等待页面的进度条

### API响应时间
- 目标: < 1秒
- 检查方法: DevTools → Network → 查看API请求时间

---

## 6️⃣ 浏览器兼容性测试

测试以下浏览器:
- [ ] Chrome (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (最新版)
- [ ] Edge (最新版)

---

## 7️⃣ 移动端测试

### 使用DevTools模拟移动设备
1. 打开DevTools (F12)
2. 点击设备工具栏图标
3. 选择iPhone或Android设备
4. 测试所有功能

### 检查项
- [ ] 页面响应式布局
- [ ] 触摸交互正常
- [ ] 文件上传正常
- [ ] 结果显示完整

---

## 8️⃣ 数据库验证

### 检查任务是否保存
```sql
-- 在Supabase SQL编辑器中运行
SELECT * FROM analysis_tasks ORDER BY created_at DESC LIMIT 5;
```

### 检查用户是否创建
```sql
SELECT * FROM users ORDER BY created_at DESC LIMIT 5;
```

---

## 9️⃣ 日志检查

### 查看服务器日志
```bash
# 终端中查看 npm run dev 的输出
# 查找任何错误或警告信息
```

### 查看浏览器控制台
1. 打开DevTools (F12)
2. 点击Console标签
3. 查找任何错误信息

---

## 🔟 部署前检查清单

在部署到Vercel之前，确保:

- [ ] 所有功能在本地测试通过
- [ ] 没有编译错误
- [ ] 没有运行时错误
- [ ] 性能指标达标
- [ ] 移动端适配良好
- [ ] 数据库连接正常
- [ ] 环境变量配置正确

---

## 📝 测试报告模板

```
测试日期: ____
测试人员: ____
测试环境: ____

前端功能: ✅ / ❌
后端功能: ✅ / ❌
分析引擎: ✅ / ❌

发现的问题:
1. ____
2. ____

性能指标:
- 首屏加载: ____ ms
- 分析执行: ____ ms
- API响应: ____ ms

备注:
____
```

---

## 🎯 下一步

测试通过后:
1. 提交代码到GitHub
2. 部署到Vercel
3. 进行生产环境测试
4. 收集用户反馈

---

**祝测试顺利！** 🚀

